{"index.html":"<html><head><script src=\"//ej2.syncfusion.com/javascript/demos/range-navigator/period-selector-stocks/datasource.js\" type=\"text/javascript\"></script>\n<script src=\"https://cdn.syncfusion.com/ej2/dist/ej2.min.js\" type=\"text/javascript\"></script>\n    <link href=\"https://cdn.syncfusion.com/ej2/material.css\" rel=\"stylesheet\">\n\n    <link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\" rel=\"stylesheet\">\n\n    <style>\n            body{\n                touch-action:none;\n            }\n        </style></head><body><div class=\"stackblitz-container {{theme}}\"><div class=\"control-section\">\n    <div style=\"width: 90%\">\n        <div id=\"stockRange\" style=\"font-family: Segoe UI;font-weight: 500; font-style:normal; font-size:14px;\">\n            <div id=\"title\">AAPL 2012-2015</div>\n            <div id=\"close\" style=\" font-size:10px\">\n                <div id=\"value\" style=\"float: left;\">159.67</div>\n                <div id=\"inc\" style=\"float: left; color: green;\">&#xA0;&#xA0;&#xA0;+11.49 (+1.06%)</div>\n            </div>\n        </div>\n    </div>\n    <br>\n    <div id=\"container\" align=\"center\"></div>\n    <div id=\"chart\" align=\"center\"></div>\n    \n    \n    <style>\n        #control-container {\n            padding: 0px !important;\n        }\n\n        #chart_tooltip {\n            opacity: 0;\n        }\n\n        #chart_HorizontalLine,\n        #chart_VerticalLine {\n            stroke-dasharray: 2\n        }\n    </style></div></div></body></html>","index.js":"{{ripple}}/**\n * Sample for stock chart\n */\n    var index = 0;\n    var selectedTheme = location.hash.split('/')[1];\n    selectedTheme = selectedTheme ? selectedTheme : 'Material';\n    var theme = (selectedTheme.charAt(0).toUpperCase() + selectedTheme.slice(1)).replace(/-dark/i, 'Dark');\n    var removeSecondaryElement;\n    var periodsValue = {\n        position: 'Top',\n        periods: [\n            { text: '1M', interval: 1, intervalType: 'Months' }, { text: '3M', interval: 3, intervalType: 'Months' },\n            { text: '6M', interval: 6, intervalType: 'Months' }, { text: 'YTD' },\n            { text: '1Y', interval: 1, intervalType: 'Years' },\n            { text: '2Y', interval: 2, intervalType: 'Years', selected: true\n            },\n            { text: 'All' }\n        ]\n    };\n    var annotationString = '<div id=\"annotation\" style=\"line-height: 18px;' +\n        ' font-size: 13px;background: #fff; opacity:0.9; color: #464e56; ' +\n        ' box-shadow:0 0 8px 0 rgba(70,78,86,.25); padding: 7px 10px;' +\n        ' border-radius: 3px\">';\n    removeSecondaryElement = function () {\n        setTimeout(function () {\n            if (ej.charts.getElement('annotation')) {\n                ej.base.remove(ej.charts.getElement('annotation'));\n            }\n        }, 2000);\n    };\n    var range;\n    var pointColors = [];\n    var chartSeries = [{\n            dataSource: window.chartData, width: 2, type: 'Candle', animation: { enable: true },\n            xName: 'x', yName: 'y', low: 'low', high: 'high', close: 'close', volume: 'volume', open: 'open',\n            name: 'Apple Inc', bearFillColor: '#2ecd71', bullFillColor: '#e74c3d'\n        }, {\n            dataSource: window.chartData, width: 2, type: 'Column', animation: { enable: true },\n            xName: 'x', yName: 'volume', yAxisName: 'secondary'\n        }];\n    var getContent = function (value) {\n        var text = value.split('<br/>');\n        var html = '<table><thead>' + text[0] + '</thead>';\n        for (var i = 1; i < text.length; i++) {\n            var value1 = text[i].split(':');\n            if (i === text.length - 1) {\n                html += '<tr><td style=\"opacity:0.5\">' + value1[0] + '</td><td style=\"padding-left: 5px;\">' +\n                    Math.round(((+value1[1].split('</b>')[0].split('<b>')[1]) / 10000000)) + 'B';\n            }\n            else {\n                html += '<tr><td style=\"opacity:0.5\">' + value1[0] + '</td><td style=\"padding-left: 5px;\">$' +\n                    (+value1[1].split(' <b>')[1].split('</b>')[0]).toFixed(2) + '</td></tr>';\n            }\n        }\n        return html;\n    };\n    \n        var chart = new ej.charts.Chart({\n            primaryXAxis: { valueType: 'DateTime', majorGridLines: { width: 0 }, crosshairTooltip: { enable: true } },\n            annotations: [\n                { content: '<div id=\"annotation\"></div>', coordinateUnits: 'Pixel', region: 'Chart', x: '15%', y: '20%' }\n            ],\n            primaryYAxis: {\n                crosshairTooltip: { enable: true }, labelFormat: 'n0', plotOffset: 25,\n                rowIndex: 1, opposedPosition: true, lineStyle: { width: 0 }, rangePadding: 'None', majorGridLines: { width: 0 }\n            }, rows: [{ height: '30%' }, { height: '70%' }],\n            axes: [{\n                    name: 'secondary', opposedPosition: true, rowIndex: 0,\n                    majorGridLines: { width: 0 }, lineStyle: { width: 0 }, majorTickLines: { width: 0 }, rangePadding: 'None'\n                }], height: '350',\n            axisLabelRender: function (args) {\n                if (args.axis.name === 'secondary') {\n                    args.text = Math.round((args.value / 10000000)) + 'B';\n                }\n                else if (args.axis.orientation === 'Vertical') {\n                    args.text = '$' + Math.round(args.value);\n                }\n            },\n            axisRangeCalculated: function (args) {\n                chart.setAnnotationValue(0, '<div></div>');\n            },\n            loaded: function (args) {\n                var labels = (args.chart.axisCollections[0]).visibleLabels;\n                var maxValue = args.chart.axisCollections[0].visibleRange.max;\n                if (args.chart.primaryXAxis.stripLines.length === 1) {\n                    for (var i = 0; i < labels.length; i += 2) {\n                        args.chart.primaryXAxis.stripLines.push({\n                            start: new Date(labels[i].value), end: labels[i + 1] ? new Date(labels[i + 1].value) : new Date(maxValue),\n                            zIndex: 'Behind', border: { width: 0, color: 'transparent' }, rotation: null,\n                            opacity: 0.7, textStyle: {}, text: '', color: 'whitesmoke', visible: true\n                        });\n                    }\n                    args.chart.refresh();\n                }\n            },\n            series: chartSeries, tooltip: {\n                enable: true, shared: true,\n                format: '${point.x}<br/>High : <b>${point.high}</b><br/>Low :' +\n                    ' <b>${point.low}</b><br/>Open : <b>${point.open}</b><br/>Close : <b>${point.close}</b><br/>Volume : <b>${point.volume}</b>'\n            },\n            indicators: [{\n                    type: 'Tma', period: 3, fastPeriod: 8, slowPeriod: 5, seriesName: 'Apple Inc', macdType: 'Both', width: 2,\n                    macdPositiveColor: '#2ecd71', macdNegativeColor: '#e74c3d', fill: '#6063ff'\n                }],\n            tooltipRender: function (args) {\n                if (args.series.type === 'Candle') {\n                    chart.setAnnotationValue(0, annotationString + (getContent(args.text) + '</table>') + '</div>');\n                }\n                args.text = '';\n            },\n            pointRender: function (args) {\n                if (args.series.type === 'Candle') {\n                    pointColors.push(args.fill);\n                }\n                else {\n                    args.fill = pointColors[args.point.index];\n                }\n            },\n            chartMouseLeave: function (args) { removeSecondaryElement(); },\n            chartMouseMove: function (args) {\n                if (!ej.charts.withInBounds(chart.mouseX, chart.mouseY, chart.chartAxisLayoutPanel.seriesClipRect)) {\n                    removeSecondaryElement();\n                }\n            }, margin: { top: 0 }, chartArea: { border: { width: 1, color: 'whitesmoke' } },\n            zoomSettings: { enableMouseWheelZooming: true, enablePinchZooming: true, mode: 'XY', toolbarItems: [] }, crosshair: { enable: true, lineType: 'Both' },\n            width: ej.base.Browser.isDevice ? '100%' : '80%', theme: theme, legendSettings: { visible: false }\n        });\n        chart.appendTo('#chart');\n        range = new ej.charts.RangeNavigator({\n            valueType: 'DateTime',\n            disableRangeSelector: true,\n            dataSource: window.chartData, xName: 'x', yName: 'close', theme: theme,\n            width: ej.base.Browser.isDevice ? '100%' : '75%',\n            load: function (args) {\n                args.rangeNavigator.periodSelectorSettings.height = document.body.className.indexOf('e-bigger') > -1 ? 56 : 42;\n            }, periodSelectorSettings: periodsValue,\n            loaded: function (args) {\n                if (!ej.base.Browser.isDevice) {\n                    document.getElementById('container_Secondary_Element').style.transform = 'translate(14%)';\n                }\n                var value = range.svgObject.getBoundingClientRect().left - range.element.getBoundingClientRect().left;\n                document.getElementById('stockRange').style.transform = 'translateX(' + (value - 10) + 'px)';\n            },\n            changed: function (args) {\n                var data = window.chartData.filter(function (data) {\n                    return (data.x.getTime() >= args.start.getTime() &&\n                        data.x.getTime() <= args.end.getTime());\n                });\n                chart.series[0].animation.enable = false;\n                chart.primaryXAxis.zoomPosition = 0;\n                chart.primaryXAxis.zoomFactor = 1;\n                chart.series[1].animation.enable = false;\n                chart.primaryXAxis.stripLines = [{ visible: true }];\n                chart.indicators[0].animation.enable = false;\n                pointColors = [];\n                chart.series[0].dataSource = data;\n                chart.series[1].dataSource = data;\n                chart.refresh();\n                chart.setAnnotationValue(0, '<div id=\"annotation\"></div>');\n            }\n        });\n        range.appendTo('#container');\n"}